project: pyclient
path: /root/pyclient
exclude:
  - .image-garden/
  - .git
backends:
  garden:
    type: adhoc
    allocate: |
        if [ -n "${SPREAD_HOST_PATH-}" ]; then
            PATH="$SPREAD_HOST_PATH"
        fi
        exec image-garden allocate "$SPREAD_SYSTEM"."$(uname -m)"
    discard: |
        if [ -n "${SPREAD_HOST_PATH-}" ]; then
            PATH="$SPREAD_HOST_PATH"
        fi
        exec image-garden discard "$SPREAD_SYSTEM_ADDRESS"
    systems:
      - ubuntu-cloud-22.04:
            username: ubuntu
            password: ubuntu
      - ubuntu-cloud-24.04:
            username: ubuntu
            password: ubuntu
      - ubuntu-cloud-25.04:
            username: ubuntu
            password: ubuntu
      - ubuntu-cloud-25.10:
            username: ubuntu
            password: ubuntu
      - ubuntu-core-20:
            username: ubuntu
            password: ubuntu
      - ubuntu-core-22:
            username: ubuntu
            password: ubuntu
      - ubuntu-core-24:
            username: ubuntu
            password: ubuntu
      - archlinux-cloud:
            username: archlinux
            password: archlinux
      - debian-cloud-12:
          username: root
          password: root
      - fedora-cloud-42:
          username: root
          password: root
suites:
  tests/:
    summary: Integration test
